<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="description" content="logging_sample.py">
<meta name="viewport" content="width=device-width">
<title>logging_sample.py | Mi blog de tecnología</title>
<link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS (es)" href="../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../en/rss.xml">
<link rel="canonical" href="http://wasuaje.com/listings/logging_sample.py.html">
<!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]-->
</head>
<body>
    <section class="social"><ul>
<li><a href="../index.html" title="Home"><i class="icon-home"></i></a></li>
            <li><a href="../archive.html" title="Archivo"><i class="icon-folder-open-alt"></i></a></li>
            <li><a href="../categories/index.html" title="Categorias"><i class="icon-tags"></i></a></li>
            <li><a href="../rss.xml" title="RSS"><i class="icon-rss"></i></a></li>
            <li><a href="http://wasuaje.com" title="Yo"><i class="icon-user"></i></a></li>
            <li><a href="https://twitter.com/SysAdmVe" title="Twitter"><i class="icon-twitter"></i></a></li>
            <li><a href="https://github.com/wasuaje" title="Github"><i class="icon-github"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
            

<nav class="breadcrumbs"><ul class="breadcrumb">
<li><a href=".">listings</a></li>
                <li>logging_sample.py</li>
</ul></nav><h1>logging_sample.py
            <small><a href="logging_sample.py">(Código fuente)</a></small>
        </h1>
    <div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-1"><code data-line-number=" 1"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-1"></a><span class="c1"># No olvidemos importar nuestros modulos</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-2"><code data-line-number=" 2"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-2"></a><span class="kn">import</span> <span class="nn">time</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-3"><code data-line-number=" 3"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-3"></a><span class="kn">import</span> <span class="nn">logging</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-4"><code data-line-number=" 4"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-4"></a><span class="c1"># Configuracion basica del log</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-5"><code data-line-number=" 5"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-5"></a><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">'</span><span class="si">%(asctime)s</span><span class="s1"> </span><span class="si">%(levelname)-8s</span><span class="s1"> </span><span class="si">%(message)s</span><span class="s1">'</span><span class="p">,</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-6"><code data-line-number=" 6"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-6"></a>                    <span class="n">datefmt</span><span class="o">=</span><span class="s1">'%m/</span><span class="si">%d</span><span class="s1">/%Y %I:%M:%S'</span><span class="p">,</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-7"><code data-line-number=" 7"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-7"></a>                    <span class="n">filename</span><span class="o">=</span><span class="s1">'output.log'</span><span class="p">,</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-8"><code data-line-number=" 8"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-8"></a>                    <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-9"><code data-line-number=" 9"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-9"></a><span class="c1"># Handler: escribe los mensajes a sys.etderr</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-10"><code data-line-number="10"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-10"></a><span class="n">console</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">()</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-11"><code data-line-number="11"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-11"></a><span class="n">console</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-12"><code data-line-number="12"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-12"></a><span class="c1"># configura un formato para la consola</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-13"><code data-line-number="13"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-13"></a><span class="n">formatter</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-14"><code data-line-number="14"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-14"></a>    <span class="s1">'</span><span class="si">%(asctime)s</span><span class="s1"> </span><span class="si">%(levelname)-8s</span><span class="s1">: </span><span class="si">%(message)s</span><span class="s1">'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-15"><code data-line-number="15"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-15"></a><span class="c1"># le avisamos a la consola que formateador usar</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-16"><code data-line-number="16"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-16"></a><span class="n">console</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-17"><code data-line-number="17"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-17"></a><span class="c1"># le agregamos el handler al logger principal</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-18"><code data-line-number="18"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-18"></a><span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">console</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-19"><code data-line-number="19"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-19"></a><span class="c1"># comenzamos jugar</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-20"><code data-line-number="20"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-20"></a><span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">'Inicio de mi programa'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-21"><code data-line-number="21"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-21"></a><span class="c1"># agreguemos un tiempo para observar mejor el log</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-22"><code data-line-number="22"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-22"></a><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-23"><code data-line-number="23"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-23"></a><span class="c1"># probamos con una advertencia</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-24"><code data-line-number="24"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-24"></a><span class="c1"># Nota que queda de nuestro lado establecer la severidad del log</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-25"><code data-line-number="25"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-25"></a><span class="n">logging</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">'Una advertencia'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-26"><code data-line-number="26"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-26"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-27"><code data-line-number="27"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-27"></a><span class="n">a</span> <span class="o">=</span> <span class="s1">'a string'</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-28"><code data-line-number="28"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-28"></a><span class="k">try</span><span class="p">:</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-29"><code data-line-number="29"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-29"></a>    <span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">1</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-30"><code data-line-number="30"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-30"></a><span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-31"><code data-line-number="31"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-31"></a>    <span class="c1"># combinemos nuestro mensaje de error con la salida del interprete</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-32"><code data-line-number="32"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-32"></a>    <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">'OH! Ha ocurrido un error: </span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-33"><code data-line-number="33"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-33"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-34"><code data-line-number="34"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-34"></a><span class="c1"># sigamos probando como funciona esto!</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-35"><code data-line-number="35"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-35"></a><span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-36"><code data-line-number="36"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-36"></a>    <span class="n">logging</span><span class="o">.</span><span class="n">fatal</span><span class="p">(</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-37"><code data-line-number="37"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-37"></a>        <span class="s1">'Huston tenemos un problema! No podemos sumar strings y enteros'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-38"><code data-line-number="38"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-38"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-39"><code data-line-number="39"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-39"></a><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-40"><code data-line-number="40"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-40"></a><span class="c1"># fin de la diversion</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#listingslogging_samplepy-41"><code data-line-number="41"></code></a></td>
<td class="code"><code><a name="listingslogging_samplepy-41"></a><span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">'Fin de la diversion (por ahora)'</span><span class="p">)</span>
</code></td>
</tr>
</table></div>

             
        <footer id="footer"><p>Contents © 2020         <a href="mailto:wasuaje@gmail.com">Wuelfhis Asuaje</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </section><script src="../assets/js/all-nocdn.js" type="text/javascript"></script><script type="text/javascript">
            $(function(){
                $('.timeago').timeago();
            });
        </script>
</body>
</html>
